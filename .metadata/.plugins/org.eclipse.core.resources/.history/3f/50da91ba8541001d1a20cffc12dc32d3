/*
 * mpu6050.h
 *
 *  Created on: 30-Sep-2022
 *      Author: Sanjay
 */

#ifndef INC_MPU6050_H_
#define INC_MPU6050_H_


#include"main.h"

#define MPU6050ADDR		0X68


typedef struct{
	uint8_t mpu6050_Clk_Src;	//@ref Clk_Src
	uint8_t enable_sensors;		//enables sensors of mpu6050 @ref enable_sensors_options
	uint8_t SampPreSc;			/*Sampling prescalar @ref datasheet
								Sample Rate = Gyroscope Output Rate / (1 + SMPLRT_DIV)
								*/
	uint8_t	DLPF;				//Digital Low Pass Filter @ref DLPF_options
	uint8_t gyroFSR;			//Gyro full scale range	@ref GYRO_FS
	uint8_t	accFSR;				//Acc full scale range @ref	ACC_FS
}mpu6050_t;

/*
 * Clk_Src options
 */
#define	INT_OSC			0 	//Internal 8MHz oscillator
#define	PLL_X_GYRO		1 	//PLL with X axis gyroscope reference
#define	PLL_Y_GYRO		2 	//PLL with Y axis gyroscope reference
#define	PLL_Z_GYRO		3 	//PLL with Z axis gyroscope reference
#define	EXT32KH			4 	//PLL with external 32.768kHz reference
#define	EXT19MH			5 	//PLL with external 19.2MHz reference



/*
 * enable_sensors_options
 */
#define ALLACTIVE		1		//Activates:GYRO,ACC & Temp sensor
#define	GYRO_ONLY		2
#define	ACC_ONLY		3
#define	GYRO_ACC_ONLY	4



/*
 * DLPF_options:A value b/w 0 to 6;
 */



/*
 * GYRO_FS
 */
#define GYRO_250		0 	//± 250 °/s
#define GYRO_500		1 	//± 500 °/s
#define GYRO_1000		2 	//± 1000 °/s
#define GYRO_2000		3 	//± 2000 °/s

/*
 * ACC_FS
 */
#define ACC_2G			0 	//± 2g
#define ACC_4G			1	//± 4g
#define ACC_8G			2 	//± 8g
#define ACC_16G			3 	//± 16g


/*
 * Supported API
 */
void mpu6050Init();
void mpu6050Deinit();
float getXacceleration();
float getYacceleration();
float getZacceleration();
float getXgyro();
float getYgyro();
float getZgyro();
float getTemperature();

#endif /* INC_MPU6050_H_ */
